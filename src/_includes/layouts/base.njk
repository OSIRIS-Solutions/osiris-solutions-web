{% set absoluteUrl = "https://osiris-solutions.de" ~ page.url %}
<!DOCTYPE html>
<html lang="{{ lang or 'de' }}">
    <head>
        <meta charset="utf-8"/>
        <title>
            {% if title %}
                {{ title }}| OSIRIS Solutions{% else %}OSIRIS Solutions{% endif %}
        </title>
        {# ---- SEO Meta Tags ---- #}
        <meta
        name="description" content="{{ description or "Open-Source-Lösungen für Forschungsinformationen." }}"> {# ---- OpenGraph ---- #}
        <meta property="og:title" content="{% if title %} {{ title }}| OSIRIS Solutions{% else %}OSIRIS Solutions{% endif %}">
        <meta property="og:description" content="{{ description or "Open-Source-Lösungen für Forschungsinformationen." }}">
        <meta property="og:image" content="/assets/img/social-img.png">
        <meta property="og:url" content="{{ absoluteUrl }}">
        <meta property="og:type" content="website">
        <meta
        property="og:site_name" content="OSIRIS Solutions"> {# ---- Twitter Cards ---- #}
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="{{ title }} | OSIRIS Solutions">
        <meta name="twitter:description" content="{{ description or "Open-Source-Lösungen für Forschungsinformationen." }}">
        <meta name="twitter:image" content="/assets/img/social-img.png">
        <meta name="description" content="{{ description or "Open-Source-Lösungen für Forschungsinformationen." }}">
        <meta
        name="viewport" content="width=device-width, initial-scale=1"> {# favicon #}
        <link
        rel="icon" type="image/svg+xml" href="/assets/img/favicon.svg"> {# fonts & icons & styles #}
        <link rel="canonical" href="{{ absoluteUrl }}">
        <meta name="robots" content="index, follow">
        <meta name="author" content="OSIRIS Solutions GmbH">
        <script type="application/ld+json">
            { "@context": "https://schema.org", "@type": "Organization", "name": "OSIRIS Solutions GmbH", "url":
            "https://osiris-solutions.de", "logo": "https://osiris-solutions.de/assets/img/logo.svg", "sameAs": [
            "https://github.com/JKoblitz/osiris" ] }
        </script>
        <link rel="stylesheet" href="/assets/fonts/phosphor-duotone/style.css">
        <link rel="stylesheet" href="/assets/styles.css">
    </head>
    <body>
        <header class="site-header">
            <div class="container header-inner">
                <a href="{% if lang == 'en' %}/en/{% else %}/{% endif %}" class="logo">
                    <img src="/assets/img/logo.svg" alt="OSIRIS Solutions Logo">
                </a>
                {# Mobile toggle button #}
                <button class="nav-toggle" type="button" aria-label="{% t 'Navigation umschalten', 'Toggle navigation' %}" aria-expanded="false">
                    <i class="ph-duotone ph-list"></i>
                </button>
                <div class="header-right">
                    <nav class="site-nav">
                        <ul>
                            {# <li><a href="{% if lang == 'en' %}/en/#hero{% else %}/#hero{% endif %}">{% t "Start", "Home" %}</a></li> #}
                            <li>
                                <a href="{% if lang == 'en' %}/en/#services{% else %}/#services{% endif %}">{% t "Lösungen", "Solutions" %}</a>
                            </li>
                            <li>
                                <a href="{% if lang == 'en' %}/en/#clients{% else %}/#clients{% endif %}">{% t "Referenzen", "References" %}</a>
                            </li>
                            <li>
                                <a href="{% if lang == 'en' %}/en/#team{% else %}/#team{% endif %}">{% t "Team", "Team" %}</a>
                            </li>
                            <li>
                                <a href="{% if lang == 'en' %}/en/#philosophy{% else %}/#philosophy{% endif %}">{% t "Philosophie", "Philosophy" %}</a>
                            </li>
                            <li>
                                <a href="{% if lang == 'en' %}/media{% else %}/media{% endif %}">{% t "Medien", "Media" %}</a>
                            </li>
                            <li>
                                <a href="{% if lang == 'en' %}/en/#contact{% else %}/#contact{% endif %}">{% t "Kontakt", "Contact" %}</a>
                            </li>
                        </ul>
                    </nav>
                    <div class="lang-switch">
                        {% if lang == 'en' %}
                            <a href="/">DE</a>
                            <span>EN</span>
                        {% else %}
                            <span>DE</span>
                            <a href="/en/">EN</a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </header>
        <main class="site-main">
            {{ content | safe }}
        </main>
        <footer class="site-footer">
            <div class="container footer-inner">
                <p>© 2025 OSIRIS Solutions GmbH</p>
                <p
                    class="footer-links">
                    {# if de: impressum, else imprint #}
                    {% if lang == 'en' %}
                        <a href="/en/imprint/">Imprint</a>
                    {% else %}
                        <a href="/impressum/">Impressum</a>
                    {% endif %}
                    <a href="/datenschutz/">Datenschutz</a>
                </p>
            </div>
        </footer>
    </body>
    <script>
        // add 'scrolled' class to header on scroll
        window.addEventListener('scroll', function () {
            const header = document.querySelector('.site-header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        document.addEventListener("DOMContentLoaded", () => {
            const header = document.querySelector(".site-header");
            const toggle = document.querySelector(".nav-toggle");
            const navLinks = document.querySelectorAll(".site-nav a");
            if (toggle && header) {
                toggle.addEventListener("click", () => {
                    const isOpen = header.classList.toggle("nav-open");
                    toggle.setAttribute(
                        "aria-expanded", isOpen
                        ? "true"
                        : "false");
                });
                // Menü schließen, wenn ein Link geklickt wird
                navLinks.forEach((link) => {
                    link.addEventListener("click", () => {
                        header.classList.remove("nav-open");
                        toggle.setAttribute("aria-expanded", "false");
                    });
                });
            }
        });
    </script>
</html>